import{z as ye,w as en,C as Ue,b2 as ke,b3 as je,b4 as Ke,u as te,b5 as nn,a2 as be,b6 as Pe,A as H,b7 as tn,b8 as sn,b9 as on,ba as an,au as Ee,b as fe,d as F,c as g,e as _,v as d,x as I,r as ee,l as L,N as T,K as ie,T as k,$ as c,M as l,S as P,L as re,ay as Ve,a1 as he,n as Ye,t as Q,aS as Xe,f as D,a9 as ln,bb as rn,h as un,aa as Se,ab as Be,bc as me,j as W,az as Me,aA as Ie,ae as cn,ag as qe,aN as dn,af as fn,ah as pn,a as N,ao as mn,aE as le,R as b,ap as K,aq as X,U as C,bd as vn,V as ue,at as x,a8 as gn,be as ze,bf as yn,bg as ve,bh as bn,an as hn,O as Cn,bi as We,bj as En,g as Ce,aw as ce,bk as Ge,bl as ge,bm as Oe,bn as wn,E as Tn,bo as kn,aB as Sn,s as Bn,bp as Re,aM as Mn,aZ as J,m as we,av as In,aC as On,a5 as De}from"./index.js";import{g as $n,P as Te,e as Ze,m as Ln,d as Nn}from"./el-select.js";const Vn='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',An=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,He=e=>Array.from(e.querySelectorAll(Vn)).filter(n=>Pn(n)&&An(n)),Pn=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},zn=(e,n,t)=>{let s={offsetX:0,offsetY:0};const a=u=>{const v=u.clientX,E=u.clientY,{offsetX:S,offsetY:h}=s,p=e.value.getBoundingClientRect(),B=p.left,R=p.top,O=p.width,m=p.height,$=document.documentElement.clientWidth,V=document.documentElement.clientHeight,Y=-B+S,f=-R+h,i=$-B-O+S,w=V-R-m+h,G=oe=>{const pe=Math.min(Math.max(S+oe.clientX-v,Y),i),ae=Math.min(Math.max(h+oe.clientY-E,f),w);s={offsetX:pe,offsetY:ae},e.value.style.transform=`translate(${ke(pe)}, ${ke(ae)})`},A=()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",G),document.addEventListener("mouseup",A)},r=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",a)},o=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",a)};ye(()=>{en(()=>{t.value?r():o()})}),Ue(()=>{o()})},Rn=e=>{je(e)||Ke("[useLockscreen]","You need to pass a ref param to this function");const n=te("popup"),t=nn(()=>n.bm("parent","hidden"));if(!be||Pe(document.body,t.value))return;let s=0,a=!1,r="0";const o=()=>{setTimeout(()=>{an(document.body,t.value),a&&(document.body.style.width=r)},200)};H(e,u=>{if(!u){o();return}a=!Pe(document.body,t.value),a&&(r=document.body.style.width),s=$n(n.namespace.value);const v=document.documentElement.clientHeight<document.body.scrollHeight,E=tn(document.body,"overflowY");s>0&&(v||E==="scroll")&&a&&(document.body.style.width=`calc(100% - ${s}px)`),sn(document.body,t.value)}),on(()=>o())},Dn=(e,n)=>{let t;H(()=>e.value,s=>{var a,r;s?(t=document.activeElement,je(n)&&((r=(a=n.value).focus)==null||r.call(a))):t.focus()})},Je=e=>{if(!e)return{onClick:Ee,onMousedown:Ee,onMouseup:Ee};let n=!1,t=!1;return{onClick:o=>{n&&t&&e(o),n=t=!1},onMousedown:o=>{n=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},Hn=fe({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),Fn=["textContent"],Un=F({name:"ElBadge"}),jn=F({...Un,props:Hn,setup(e,{expose:n}){const t=e,s=te("badge"),a=g(()=>t.isDot?"":_(t.value)&&_(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return n({content:a}),(r,o)=>(d(),I("div",{class:c(l(s).b())},[ee(r.$slots,"default"),L(Ve,{name:`${l(s).namespace.value}-zoom-in-center`,persisted:""},{default:T(()=>[ie(k("sup",{class:c([l(s).e("content"),l(s).em("content",r.type),l(s).is("fixed",!!r.$slots.default),l(s).is("dot",r.isDot)]),textContent:P(l(a))},null,10,Fn),[[re,!r.hidden&&(l(a)||r.isDot)]])]),_:1},8,["name"])],2))}});var Kn=he(jn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Yn=Ye(Kn),$e="_trap-focus-children",q=[],Fe=e=>{if(q.length===0)return;const n=q[q.length-1][$e];if(n.length>0&&e.code===Xe.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const t=e.shiftKey,s=e.target===n[0],a=e.target===n[n.length-1];s&&t&&(e.preventDefault(),n[n.length-1].focus()),a&&!t&&(e.preventDefault(),n[0].focus())}},Xn={beforeMount(e){e[$e]=He(e),q.push(e),q.length<=1&&document.addEventListener("keydown",Fe)},updated(e){Q(()=>{e[$e]=He(e)})},unmounted(){q.shift(),q.length===0&&document.removeEventListener("keydown",Fe)}},Le={},qn=fe({a11y:{type:Boolean,default:!0},locale:{type:D(Object)},size:ln,button:{type:D(Object)},experimentalFeatures:{type:D(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:D(Object)},zIndex:Number,namespace:{type:String,default:"el"}});F({name:"ElConfigProvider",props:qn,setup(e,{slots:n}){H(()=>e.message,s=>{Object.assign(Le,s??{})},{immediate:!0,deep:!0});const t=rn(e);return()=>ee(n,"default",{config:t==null?void 0:t.value})}});const Wn=fe({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:D([String,Array,Object])},zIndex:{type:D([String,Number])}}),Gn={click:e=>e instanceof MouseEvent};var Zn=F({name:"ElOverlay",props:Wn,emits:Gn,setup(e,{slots:n,emit:t}){const s=te("overlay"),a=v=>{t("click",v)},{onClick:r,onMousedown:o,onMouseup:u}=Je(e.customMaskEvent?void 0:a);return()=>e.mask?L("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:r,onMousedown:o,onMouseup:u},[ee(n,"default")],Te.STYLE|Te.CLASS|Te.PROPS,["onClick","onMouseup","onMousedown"]):un("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[ee(n,"default")])}});const Jn=Zn,Qn=fe({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:Se},inactiveIcon:{type:Se},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:D(Function)},size:{type:String,validator:Ze},tabindex:{type:[String,Number]}}),xn={[Be]:e=>me(e)||W(e)||_(e),[Me]:e=>me(e)||W(e)||_(e),[Ie]:e=>me(e)||W(e)||_(e)},_n=["onClick"],et=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],nt=["aria-hidden"],tt=["aria-hidden"],st=["aria-hidden"],Ne="ElSwitch",ot=F({name:Ne}),at=F({...ot,props:Qn,emits:xn,setup(e,{expose:n,emit:t}){const s=e,a=gn(),{formItem:r}=cn(),o=qe(),u=te("switch");dn({from:'"value"',replacement:'"model-value" or "v-model"',scope:Ne,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},g(()=>{var i;return!!((i=a.vnode.props)!=null&&i.value)}));const{inputId:v}=fn(s,{formItemContext:r}),E=pn(g(()=>s.loading)),S=N(s.modelValue!==!1),h=N(),p=N(),B=g(()=>[u.b(),u.m(o.value),u.is("disabled",E.value),u.is("checked",m.value)]),R=g(()=>({width:ke(s.width)}));H(()=>s.modelValue,()=>{S.value=!0}),H(()=>s.value,()=>{S.value=!1});const O=g(()=>S.value?s.modelValue:s.value),m=g(()=>O.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(O.value)||(t(Be,s.inactiveValue),t(Me,s.inactiveValue),t(Ie,s.inactiveValue)),H(m,i=>{var w;h.value.checked=i,s.validateEvent&&((w=r==null?void 0:r.validate)==null||w.call(r,"change").catch(G=>mn()))});const $=()=>{const i=m.value?s.inactiveValue:s.activeValue;t(Be,i),t(Me,i),t(Ie,i),Q(()=>{h.value.checked=m.value})},V=()=>{if(E.value)return;const{beforeChange:i}=s;if(!i){$();return}const w=i();[ze(w),me(w)].includes(!0)||Ke(Ne,"beforeChange must return type `Promise<boolean>` or `boolean`"),ze(w)?w.then(A=>{A&&$()}).catch(A=>{}):w&&$()},Y=g(()=>u.cssVarBlock({...s.activeColor?{"on-color":s.activeColor}:null,...s.inactiveColor?{"off-color":s.inactiveColor}:null,...s.borderColor?{"border-color":s.borderColor}:null})),f=()=>{var i,w;(w=(i=h.value)==null?void 0:i.focus)==null||w.call(i)};return ye(()=>{h.value.checked=m.value}),n({focus:f,checked:m}),(i,w)=>(d(),I("div",{class:c(l(B)),style:ue(l(Y)),onClick:x(V,["prevent"])},[k("input",{id:l(v),ref_key:"input",ref:h,class:c(l(u).e("input")),type:"checkbox",role:"switch","aria-checked":l(m),"aria-disabled":l(E),name:i.name,"true-value":i.activeValue,"false-value":i.inactiveValue,disabled:l(E),tabindex:i.tabindex,onChange:$,onKeydown:le(V,["enter"])},null,42,et),!i.inlinePrompt&&(i.inactiveIcon||i.inactiveText)?(d(),I("span",{key:0,class:c([l(u).e("label"),l(u).em("label","left"),l(u).is("active",!l(m))])},[i.inactiveIcon?(d(),b(l(X),{key:0},{default:T(()=>[(d(),b(K(i.inactiveIcon)))]),_:1})):C("v-if",!0),!i.inactiveIcon&&i.inactiveText?(d(),I("span",{key:1,"aria-hidden":l(m)},P(i.inactiveText),9,nt)):C("v-if",!0)],2)):C("v-if",!0),k("span",{ref_key:"core",ref:p,class:c(l(u).e("core")),style:ue(l(R))},[i.inlinePrompt?(d(),I("div",{key:0,class:c(l(u).e("inner"))},[i.activeIcon||i.inactiveIcon?(d(),b(l(X),{key:0,class:c(l(u).is("icon"))},{default:T(()=>[(d(),b(K(l(m)?i.activeIcon:i.inactiveIcon)))]),_:1},8,["class"])):i.activeText||i.inactiveText?(d(),I("span",{key:1,class:c(l(u).is("text")),"aria-hidden":!l(m)},P(l(m)?i.activeText:i.inactiveText),11,tt)):C("v-if",!0)],2)):C("v-if",!0),k("div",{class:c(l(u).e("action"))},[i.loading?(d(),b(l(X),{key:0,class:c(l(u).is("loading"))},{default:T(()=>[L(l(vn))]),_:1},8,["class"])):C("v-if",!0)],2)],6),!i.inlinePrompt&&(i.activeIcon||i.activeText)?(d(),I("span",{key:1,class:c([l(u).e("label"),l(u).em("label","right"),l(u).is("active",l(m))])},[i.activeIcon?(d(),b(l(X),{key:0},{default:T(()=>[(d(),b(K(i.activeIcon)))]),_:1})):C("v-if",!0),!i.activeIcon&&i.activeText?(d(),I("span",{key:1,"aria-hidden":!l(m)},P(i.activeText),9,st)):C("v-if",!0)],2)):C("v-if",!0)],14,_n))}});var lt=he(at,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Pt=Ye(lt),Qe=["success","info","warning","error"],M=Ln({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:be?document.body:void 0}),it=fe({customClass:{type:String,default:M.customClass},center:{type:Boolean,default:M.center},dangerouslyUseHTMLString:{type:Boolean,default:M.dangerouslyUseHTMLString},duration:{type:Number,default:M.duration},icon:{type:Se,default:M.icon},id:{type:String,default:M.id},message:{type:D([String,Object,Function]),default:M.message},onClose:{type:D(Function),required:!1},showClose:{type:Boolean,default:M.showClose},type:{type:String,values:Qe,default:M.type},offset:{type:Number,default:M.offset},zIndex:{type:Number,default:M.zIndex},grouping:{type:Boolean,default:M.grouping},repeatNum:{type:Number,default:M.repeatNum}}),rt={destroy:()=>!0},z=yn([]),ut=e=>{const n=z.findIndex(a=>a.id===e),t=z[n];let s;return n>0&&(s=z[n-1]),{current:t,prev:s}},ct=e=>{const{prev:n}=ut(e);return n?n.vm.exposed.bottom.value:0},dt=["id"],ft=["innerHTML"],pt=F({name:"ElMessage"}),mt=F({...pt,props:it,emits:rt,setup(e,{expose:n}){const t=e,{Close:s}=We,a=te("message"),r=N(),o=N(!1),u=N(0);let v;const E=g(()=>t.type?t.type==="error"?"danger":t.type:"info"),S=g(()=>{const f=t.type;return{[a.bm("icon",f)]:f&&ve[f]}}),h=g(()=>t.icon||ve[t.type]||""),p=g(()=>ct(t.id)),B=g(()=>t.offset+p.value),R=g(()=>u.value+B.value),O=g(()=>({top:`${B.value}px`,zIndex:t.zIndex}));function m(){t.duration!==0&&({stop:v}=En(()=>{V()},t.duration))}function $(){v==null||v()}function V(){o.value=!1}function Y({code:f}){f===Xe.esc&&V()}return ye(()=>{m(),o.value=!0}),H(()=>t.repeatNum,()=>{$(),m()}),bn(document,"keydown",Y),hn(r,()=>{u.value=r.value.getBoundingClientRect().height}),n({visible:o,bottom:R,close:V}),(f,i)=>(d(),b(Ve,{name:l(a).b("fade"),onBeforeLeave:f.onClose,onAfterLeave:i[0]||(i[0]=w=>f.$emit("destroy")),persisted:""},{default:T(()=>[ie(k("div",{id:f.id,ref_key:"messageRef",ref:r,class:c([l(a).b(),{[l(a).m(f.type)]:f.type&&!f.icon},l(a).is("center",f.center),l(a).is("closable",f.showClose),f.customClass]),style:ue(l(O)),role:"alert",onMouseenter:$,onMouseleave:m},[f.repeatNum>1?(d(),b(l(Yn),{key:0,value:f.repeatNum,type:l(E),class:c(l(a).e("badge"))},null,8,["value","type","class"])):C("v-if",!0),l(h)?(d(),b(l(X),{key:1,class:c([l(a).e("icon"),l(S)])},{default:T(()=>[(d(),b(K(l(h))))]),_:1},8,["class"])):C("v-if",!0),ee(f.$slots,"default",{},()=>[f.dangerouslyUseHTMLString?(d(),I(Cn,{key:1},[C(" Caution here, message could've been compromised, never use user's input as message "),k("p",{class:c(l(a).e("content")),innerHTML:f.message},null,10,ft)],2112)):(d(),I("p",{key:0,class:c(l(a).e("content"))},P(f.message),3))]),f.showClose?(d(),b(l(X),{key:2,class:c(l(a).e("closeBtn")),onClick:x(V,["stop"])},{default:T(()=>[L(l(s))]),_:1},8,["class","onClick"])):C("v-if",!0)],46,dt),[[re,o.value]])]),_:3},8,["name","onBeforeLeave"]))}});var vt=he(mt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let gt=1;const xe=e=>{const n=!e||W(e)||Ce(e)||ce(e)?{message:e}:e,t={...M,...n};if(!t.appendTo)t.appendTo=document.body;else if(W(t.appendTo)){let s=document.querySelector(t.appendTo);Oe(s)||(s=document.body),t.appendTo=s}return t},yt=e=>{const n=z.indexOf(e);if(n===-1)return;z.splice(n,1);const{handler:t}=e;t.close()},bt=({appendTo:e,...n},t)=>{const{nextZIndex:s}=Ge(),a=`message_${gt++}`,r=n.onClose,o=document.createElement("div"),u={...n,zIndex:s()+n.zIndex,id:a,onClose:()=>{r==null||r(),yt(h)},onDestroy:()=>{ge(null,o)}},v=L(vt,u,ce(u.message)||Ce(u.message)?{default:ce(u.message)?u.message:()=>u.message}:null);v.appContext=t||ne._context,ge(v,o),e.appendChild(o.firstElementChild);const E=v.component,h={id:a,vnode:v,vm:E,handler:{close:()=>{E.exposed.visible.value=!1}},props:v.component.props};return h},ne=(e={},n)=>{if(!be)return{close:()=>{}};if(_(Le.max)&&z.length>=Le.max)return{close:()=>{}};const t=xe(e);if(t.grouping&&z.length){const a=z.find(({vnode:r})=>{var o;return((o=r.props)==null?void 0:o.message)===t.message});if(a)return a.props.repeatNum+=1,a.props.type=t.type,a.handler}const s=bt(t,n);return z.push(s),s.handler};Qe.forEach(e=>{ne[e]=(n={},t)=>{const s=xe(n);return ne({...s,type:e},t)}});function ht(e){for(const n of z)(!e||e===n.props.type)&&n.handler.close()}ne.closeAll=ht;ne._context=null;const zt=wn(ne,"$message"),Ct=F({name:"ElMessageBox",directives:{TrapFocus:Xn},components:{ElButton:Tn,ElFocusTrap:kn,ElInput:Nn,ElOverlay:Jn,ElIcon:X,...We},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Ze},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:n}){const{t}=Sn(),s=te("message-box"),a=N(!1),{nextZIndex:r}=Ge(),o=Bn({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:r()}),u=g(()=>{const y=o.type;return{[s.bm("icon",y)]:y&&ve[y]}}),v=Re(),E=Re(),S=qe(g(()=>e.buttonSize),{prop:!0,form:!0,formItem:!0}),h=g(()=>o.icon||ve[o.type]||""),p=g(()=>!!o.message),B=N(),R=N(),O=N(),m=N(),$=N(),V=g(()=>o.confirmButtonClass);H(()=>o.inputValue,async y=>{await Q(),e.boxType==="prompt"&&y!==null&&oe()},{immediate:!0}),H(()=>a.value,y=>{var U,Z;y&&(e.boxType!=="prompt"&&(o.autofocus?O.value=(Z=(U=$.value)==null?void 0:U.$el)!=null?Z:B.value:O.value=B.value),o.zIndex=r()),e.boxType==="prompt"&&(y?Q().then(()=>{var Ae;m.value&&m.value.$el&&(o.autofocus?O.value=(Ae=pe())!=null?Ae:B.value:O.value=B.value)}):(o.editorErrorMessage="",o.validateError=!1))});const Y=g(()=>e.draggable);zn(B,R,Y),ye(async()=>{await Q(),e.closeOnHashChange&&window.addEventListener("hashchange",f)}),Ue(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",f)});function f(){a.value&&(a.value=!1,Q(()=>{o.action&&n("action",o.action)}))}const i=()=>{e.closeOnClickModal&&A(o.distinguishCancelAndClose?"close":"cancel")},w=Je(i),G=y=>{if(o.inputType!=="textarea")return y.preventDefault(),A("confirm")},A=y=>{var U;e.boxType==="prompt"&&y==="confirm"&&!oe()||(o.action=y,o.beforeClose?(U=o.beforeClose)==null||U.call(o,y,o,f):f())},oe=()=>{if(e.boxType==="prompt"){const y=o.inputPattern;if(y&&!y.test(o.inputValue||""))return o.editorErrorMessage=o.inputErrorMessage||t("el.messagebox.error"),o.validateError=!0,!1;const U=o.inputValidator;if(typeof U=="function"){const Z=U(o.inputValue);if(Z===!1)return o.editorErrorMessage=o.inputErrorMessage||t("el.messagebox.error"),o.validateError=!0,!1;if(typeof Z=="string")return o.editorErrorMessage=Z,o.validateError=!0,!1}}return o.editorErrorMessage="",o.validateError=!1,!0},pe=()=>{const y=m.value.$refs;return y.input||y.textarea},ae=()=>{A("close")},_e=()=>{e.closeOnPressEscape&&ae()};return e.lockScroll&&Rn(a),Dn(a),{...Mn(o),ns:s,overlayEvent:w,visible:a,hasMessage:p,typeClass:u,contentId:v,inputId:E,btnSize:S,iconComponent:h,confirmButtonClasses:V,rootRef:B,focusStartRef:O,headerRef:R,inputRef:m,confirmRef:$,doClose:f,handleClose:ae,onCloseRequested:_e,handleWrapperClick:i,handleInputEnter:G,handleAction:A,t}}}),Et=["aria-label","aria-describedby"],wt=["aria-label"],Tt=["id"];function kt(e,n,t,s,a,r){const o=J("el-icon"),u=J("close"),v=J("el-input"),E=J("el-button"),S=J("el-focus-trap"),h=J("el-overlay");return d(),b(Ve,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=p=>e.$emit("vanish")),persisted:""},{default:T(()=>[ie(L(h,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:T(()=>[k("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:c(`${e.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(...p)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...p)),onMousedown:n[9]||(n[9]=(...p)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...p)),onMouseup:n[10]||(n[10]=(...p)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...p))},[L(S,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:T(()=>[k("div",{ref:"rootRef",class:c([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:ue(e.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=x(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(d(),I("div",{key:0,ref:"headerRef",class:c(e.ns.e("header"))},[k("div",{class:c(e.ns.e("title"))},[e.iconComponent&&e.center?(d(),b(o,{key:0,class:c([e.ns.e("status"),e.typeClass])},{default:T(()=>[(d(),b(K(e.iconComponent)))]),_:1},8,["class"])):C("v-if",!0),k("span",null,P(e.title),1)],2),e.showClose?(d(),I("button",{key:0,type:"button",class:c(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:n[0]||(n[0]=p=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=le(x(p=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[L(o,{class:c(e.ns.e("close"))},{default:T(()=>[L(u)]),_:1},8,["class"])],42,wt)):C("v-if",!0)],2)):C("v-if",!0),k("div",{id:e.contentId,class:c(e.ns.e("content"))},[k("div",{class:c(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(d(),b(o,{key:0,class:c([e.ns.e("status"),e.typeClass])},{default:T(()=>[(d(),b(K(e.iconComponent)))]),_:1},8,["class"])):C("v-if",!0),e.hasMessage?(d(),I("div",{key:1,class:c(e.ns.e("message"))},[ee(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(d(),b(K(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(d(),b(K(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:T(()=>[we(P(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):C("v-if",!0)],2),ie(k("div",{class:c(e.ns.e("input"))},[L(v,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":n[2]||(n[2]=p=>e.inputValue=p),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:c({invalid:e.validateError}),onKeydown:le(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),k("div",{class:c(e.ns.e("errormsg")),style:ue({visibility:e.editorErrorMessage?"visible":"hidden"})},P(e.editorErrorMessage),7)],2),[[re,e.showInput]])],10,Tt),k("div",{class:c(e.ns.e("btns"))},[e.showCancelButton?(d(),b(E,{key:0,loading:e.cancelButtonLoading,class:c([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:n[3]||(n[3]=p=>e.handleAction("cancel")),onKeydown:n[4]||(n[4]=le(x(p=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:T(()=>[we(P(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):C("v-if",!0),ie(L(E,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:c([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:n[5]||(n[5]=p=>e.handleAction("confirm")),onKeydown:n[6]||(n[6]=le(x(p=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:T(()=>[we(P(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[re,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Et)]),_:3},8,["z-index","overlay-class","mask"]),[[re,e.visible]])]),_:3})}var St=he(Ct,[["render",kt],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const de=new Map,Bt=e=>{let n=document.body;return e.appendTo&&(W(e.appendTo)&&(n=document.querySelector(e.appendTo)),Oe(e.appendTo)&&(n=e.appendTo),Oe(n)||(n=document.body)),n},Mt=(e,n,t=null)=>{const s=L(St,e,ce(e.message)||Ce(e.message)?{default:ce(e.message)?e.message:()=>e.message}:null);return s.appContext=t,ge(s,n),Bt(e).appendChild(n.firstElementChild),s.component},It=()=>document.createElement("div"),Ot=(e,n)=>{const t=It();e.onVanish=()=>{ge(null,t),de.delete(a)},e.onAction=r=>{const o=de.get(a);let u;e.showInput?u={value:a.inputValue,action:r}:u=r,e.callback?e.callback(u,s.proxy):r==="cancel"||r==="close"?e.distinguishCancelAndClose&&r!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(u)};const s=Mt(e,t,n),a=s.proxy;for(const r in e)De(e,r)&&!De(a.$props,r)&&(a[r]=e[r]);return a.visible=!0,a};function se(e,n=null){if(!be)return Promise.reject();let t;return W(e)||Ce(e)?e={message:e}:t=e.callback,new Promise((s,a)=>{const r=Ot(e,n??se._context);de.set(r,{options:e,callback:t,resolve:s,reject:a})})}const $t=["alert","confirm","prompt"],Lt={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};$t.forEach(e=>{se[e]=Nt(e)});function Nt(e){return(n,t,s,a)=>{let r="";return In(t)?(s=t,r=""):On(t)?r="":r=t,se(Object.assign({title:r,message:n,type:"",...Lt[e]},s,{boxType:e}),a)}}se.close=()=>{de.forEach((e,n)=>{n.doClose()}),de.clear()};se._context=null;const j=se;j.install=e=>{j._context=e._context,e.config.globalProperties.$msgbox=j,e.config.globalProperties.$messageBox=j,e.config.globalProperties.$alert=j.alert,e.config.globalProperties.$confirm=j.confirm,e.config.globalProperties.$prompt=j.prompt};const Rt=j;export{Rt as E,zt as a,Pt as b};
